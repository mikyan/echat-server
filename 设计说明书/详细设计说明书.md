# “易聊”软件设计说明书
[TOC]
## 1    引言

### 1.2    背景
课程作业要求完成一个聊天软件，平台不限，至少要求最基础的聊天功能。本项目内部开发代号为“易聊”。

### 1.3    参考资料
暂无

### 1.4   术语定义及说明
暂无

## 2  设计概述
### 2.1   任务和目标
预计完成好友功能，文字图片聊天，视频聊天功能。

### 2.1.1      需求概述
业务需求见架构设计说明书，本系统的性能需求要求能够承担每秒1万次请求（注：由于没有实际项目经验，参考了csdn对netty的一篇测试），可以看到阿里云8核16G的服务器能承担三万左右并发，由于本系统的部署机为2核4G，预估性能瓶颈为每秒1万次请求。

### 2.1.2      运行环境概述
本系统运行在2核4G的腾讯云服务器上，硬盘大小为50G。操作系统采用ubuntu18.04，数据库使用mysql，使用redis缓存，使用fastDFS文件服务器管理文件。

### 2.1.3      条件与限制
详细描述系统所受的内部和外部条件的约束和限制说明。包括业务和技术方面的条件与限制以及进度、管理等方面的限制。

### 2.1.4      详细设计方法和工具
简要说明详细设计所采用的方法和使用的工具。如HIPO图方法、IDEF（I2DEF）方法、E－R图，数据流程图、业务流程图、选用的CASE工具等，尽量采用标准规范和辅助工具。

## 3  系统详细需求分析
主要对系统级的需求进行分析。首先应对需求分析提出的企业需求进一步确认，并对由于情况变化而带来的需求变化进行较为详细的分析。

### 3.1     详细需求分析
包括：

详细功能需求分析
详细性能需求分析
详细资源需求分析
详细系统运行环境及限制条件分析
### 3.2         详细系统运行环境及限制条件分析接口需求分析
包括：

系统接口需求分析
现有硬、软件资源接口需求分析
引进硬、软件资源接口需求分析
## 4   总体方案确认
着重解决系统总体结构确认及界面划分问题。 

### 4.1  系统总体结构确认
对系统组成、逻辑结构及层次进行确认，对应用系统、支撑系统及各自实现的功能进行确认，细化集成设计及系统工作流程，特别要注意因软件的引进造成的系统本身结构和公司其他系统的结构变化。包括：

Ÿ   系统组成、逻辑结构及层次确认

Ÿ   应用系统结构确认

Ÿ   支撑系统结构确认

Ÿ   系统集成确认

Ÿ   系统工作流程确认

### 4.2        系统详细界面划分
#### 4.2.1      应用系统与支撑系统的详细界面划分
应用系统与支撑系统之间的界面包括系统主服务器与其他服务器的服务范围及访问方式，网络及数据库对应用系统的支撑方式，全局数据的管理与存取方式等。

### 4.2.2      系统内部详细界面划分
系统各功能之间的界面包括覆盖范围，模块间功能调用涉及到的系统模块及方法，全局数据格式，系统性能要求等。

## 5   系统详细设计
### 5.1    系统结构设计及子系统划分
对系统的组成及逻辑结构进行设计前确认。

划分系统功能模块或子系统（如果有或者有必要，特别是大型的软件系统）。

### 5.2    系统功能模块详细设计
按结构化设计方法，在系统功能逐层分解的基础上，对系统各功能模块或子系统进行设计。此为详细设计的主要部分之一。

用层次图描述系统的总体结构、功能分解及各个模块之间的相互调用关系和信息交互，用IPO图或其他方法描述各模块完成的功能。 以上建议采用HIPO图进行功能分解与模块描述，更高的要求建议采用IDEF0方法进行功能模型设计。

详细设计应用系统的各个构成模块完成的功能及其相互之间的关系，用IPO或结构图描述各模块的组成结构、算法、模块间的接口关系，以及需求、功能和模块三者之间的交叉参照关系。

每个模块的描述说明可参照以下格式：

模块编号：

模块名称：

输入：

处理：

算法描述：

输出：

其中处理和算法描述部分主要采用伪码或具体的程序语言完成。

对详细设计更高的要求建议用IDEF0图进行各功能模块的设计。

如果对软件需进行二次开发（包括功能扩展、功能改造、用户界面改造等），则相应的设计工作应该设立子课题完成。

### 5.3          系统界面详细设计
系统界面说明应用系统软件的各种接口。整个系统的其他接口（如系统硬件接口、通讯接口等）在相应的部分说明。

#### 5.3.1      外部界面设计
根据系统界面划分进行系统外部界面设计，对系统的所有外部接口（包括功能和数据接口）进行设计。

#### 5.3.2      内部界面设计
设计系统内部各功能模块间的调用关系和数据接口。

#### 5.3.3      用户界面设计
规定人机界面的内容、界面风格、调用方式等，包括所谓的表单设计、报表设计和用户需要的打印输出等设计。此部分内容可能比较多。

## 6、数据库系统设计
此数据库设计可单独成册，尤其对大型的数据库应用系统，即有一个单独的《数据库设计说明书》。

### 6.1设计要求
### 6.2 信息模型设计
确定系统信息的类型（实体或视图），确定系统信息实体的属性、关键字及实体之间的联系，详细描述数据库和结构设计，数据元素及属性定义，数据关系模式，数据约束和限制。

### 6.3    数据库设计
#### 6.3.1   设计依据
说明数据被访问的频度和流量，最大数据存储量，数据增长量，存储时间等数据库设计依据。

#### 6.3.2   数据库种类及特点
说明系统内应用的数据库种类、各自的特点、数量及如何实现互联，数据如何传递。

#### 6.3.3   数据库逻辑结构
说明数据库概念模式向逻辑模式转换所采用的方法论及工具，完成数据库概念模式向逻辑模式的转换。详细列出所使用的数据结构中每个数据项、记录和文件的标识、定义、长度及它们之间的相互关系。此节内容为数据库设计的主要部分。

#### 6.3.4   物理结构设计
列出所使用的数据结构中每个数据项的存储要求、访问方法、存取单位和存取物理关系等。建立系统程序员视图，包括：

Ÿ  数据在内存中的安排，包括对索引区、缓冲区的设计；

Ÿ  所使用的外存设备及外存空间的组织，包括索引区、数据块的组织与划分；

Ÿ  访问数据的方式方法。

#### 6.3.5   数据库安全
说明数据的共享方式，如何保证数据的安全性及保密性。

#### 6.3.6   数据字典
编写详细的数据字典。 对数据库设计中涉及到的各种项目，如数据项、记录、系、文卷模式、子模式等一般要建立起数据字典，以说明它们的标识符、同义名及有关信息。

## 7    信息编码设计
### 7.3     代码结构设计
确认信息分类编码总体方案，进行分类代码结构设计。

### 7.4     代码编制
按代码结构编制信息代码“易聊”软件设计说明书